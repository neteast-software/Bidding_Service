<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.neteast.business.mapper.BankMessageMapper">

    <resultMap type="com.neteast.business.domain.custom.vo.BankMessageVO" id="BankMessageMapVO">
        <result property="id" column="id" jdbcType="Integer"/>
        <result property="name" column="name" jdbcType="String"/>
        <result property="address" column="address" jdbcType="String"/>
        <result property="number" column="number" jdbcType="String"/>
        <result property="cardName" column="card_name" jdbcType="String"/>
        <result property="type" column="type" jdbcType="Integer"/>
        <result property="extId" column="ext_id" jdbcType="Integer"/>
        <result property="use" column="use" jdbcType="String"/>
        <result property="workName" column="work_name" javaType="String" />
        <result property="workPlace" column="work_place" javaType="String" />
        <result property="legalPerson" column="legal_person" javaType="String" />
        <result property="net" column="net" javaType="String" />
        <result property="postcode" column="postcode" javaType="String" />
        <result property="placeType" column="place_type" javaType="Integer" />
        <result property="createBy" column="create_by" jdbcType="String"/>
        <result property="createTime" column="create_time" jdbcType="Date"/>
        <result property="updateBy" column="update_by" jdbcType="String"/>
        <result property="updateTime" column="update_time" jdbcType="Date"/>
    </resultMap>

    <select id="getList" resultMap="BankMessageMapVO" >
        select b.id,b.name,b.address,number,card_name,use,w.name work_name,w.address work_address,w.legal_person,w.net,w.place_type,w.postcode,b.create_by,b.create_time,b.update_by,b.update_time
        from work_place_name w INNER JOIN bank_message b on b.ext_id = w.id
        <where>
            <if test="name != null and name != ''">
                and name = #{name}
            </if>
            <if test="address != null and address != ''">
                and address = #{address}
            </if>
            <if test="number != null and number != ''">
                and number = #{number}
            </if>
            <if test="cardName != null and cardName != ''">
                and card_name = #{cardName}
            </if>
            <if test="use != null and use != ''">
                and use = #{use}
            </if>
            <if test="legalPerson != null and legalPerson != ''">
                and legal_person like concat('%',#{legal_person},'%')
            </if>
            <if test="workName != null and workName != ''">
                and work_name like concat('%',#{work_name},'%')
            </if>
            <if test="workPlace != null and workPlace != ''">
                and work_place like concat('%',#{work_place},'%')
            </if>
            <if test="placeType != null">
                and place_type = #{place_type}
            </if>
        </where>
    </select>



</mapper>